 1. 上次修改时间 + 创建时间                                                                
                 
  后端：几乎不需要改动                                                                      
                                                                                            
  - ✅ works 表已经有 created_at 和 updated_at 字段                                         
  - ✅ 每次update时已自动更新 updated_at                                                    
  - ⚠️  只需检查 GET /api/work/list 是否返回了这两个字段（看代码已经返回了
  updated_at，但可能缺 created_at）

  需要做的：
  - 确认API返回 created_at 字段（可能需要修改 WorkListItem schema）

  前端：主要工作

  - 在home页面（works列表）显示创建时间和上次修改时间
  - 时间格式化（例如："2 hours ago", "Jan 15, 2026"）
  - UI设计和布局

  ---
  2. 字数统计

  后端：需要新增

  - 数据库：works 表添加 word_count 字段（INT）
  - 逻辑：在 update_work 和 submit_work 时计算字数并保存
    - 实现字数统计函数（英文按空格分词，中文按字符统计）
  - API：GET /api/work/list 和 GET /api/work/{id} 返回 word_count

  前端：两处显示

  - 列表页：显示后端返回的 word_count（避免加载所有content）
  - 编辑页：实时计算并显示当前字数（用户体验更好）

  建议方案：
  - 列表页用后端存储的字数（性能好）
  - 编辑页前端实时计算（即时反馈）

  ---
  3. Essay类型 + Prompt输入

  后端：核心工作

  数据库改动：

  ALTER TABLE works
    ADD COLUMN essay_type VARCHAR(50) DEFAULT 'personal_statement',
    ADD COLUMN essay_prompt TEXT;
  - essay_type: "personal_statement" 或 "required_essay"
  - essay_prompt: 存储essay题目/要求（仅required_essay时有值）

  API改动：

  - POST /api/work/create: 接受 essay_type 和 essay_prompt 参数
  - GET /api/work/{id}: 返回 essay_type 和 essay_prompt
  - POST /api/work/{id}/update: 允许修改 essay_prompt（essay_type一般创建后不改）

  LLM Prompt逻辑改动（关键）：

  - 修改 backend/modules/llm_gateway/prompts.py
  - 在 build_first_time_prompt 和 build_iterative_prompt 中：
    - 如果 essay_type == "required_essay" 且有 essay_prompt
    - 在prompt开头添加：
    ESSAY PROMPT/REQUIREMENTS:
  {essay_prompt}

  The student must address these requirements in their essay.
  Evaluate whether they successfully respond to the prompt.

  前端：UI交互

  创建work时：

  - 单选框：Personal Statement / Required Essay
  - 如果选择Required Essay，显示多行文本框输入prompt

  Work详情页：

  - 显示当前essay type
  - 如果是required_essay，显示essay prompt（可编辑）

  列表页（可选）：

  - 用图标或标签区分两种类型

  ---
  工作量分配总结
  ┌─────────────────────┬──────────────────────┬───────────────────┬────────────┐
  │        功能         │      后端工作量      │    前端工作量     │ 主要工作在 │
  ├─────────────────────┼──────────────────────┼───────────────────┼────────────┤
  │ 1. 时间显示         │ 极小（检查API）      │ 中等（UI显示）    │ 前端       │
  ├─────────────────────┼──────────────────────┼───────────────────┼────────────┤
  │ 2. 字数统计         │ 中等（DB+计算）      │ 小（显示）        │ 前后端各半 │
  ├─────────────────────┼──────────────────────┼───────────────────┼────────────┤
  │ 3. Essay类型+Prompt │ 大（DB+API+LLM逻辑） │ 中等（表单+显示） │ 后端为主   │
  └─────────────────────┴──────────────────────┴───────────────────┴────────────┘
  ---
  实施建议顺序

  1. 功能1（时间显示）：最简单，先做
    - 后端：5分钟检查API
    - 前端：30分钟UI实现
  2. 功能2（字数统计）：
    - 后端：数据库migration + 计算逻辑（1小时）
    - 前端：显示（30分钟）
  3. 功能3（Essay类型）：最复杂，最后做
    - 后端：数据库 + API + LLM逻辑改造（2-3小时）
    - 前端：表单交互（1小时）

  ---
  总结：
  - 功能1：前端为主
  - 功能2：前后端均衡
  - 功能3：后端为主（LLM逻辑改造是核心）